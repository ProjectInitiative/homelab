apiVersion: secrets.openbao.com/v1alpha1
kind: BaoSecret
metadata:
  name: tailscale-operator-oauth
  namespace: tailscale
spec:
  # IMPORTANT: You may need to change the connection name to match your
  # BaoConnection Custom Resource.
  connection: openbao
  
  # Path to the secret in OpenBao, as you specified.
  path: k8s/data/tailscale-operator
  
  # How often the operator should check for updates to the secret in Bao.
  refreshAfter: 30m

  # Configuration for the Kubernetes Secret that will be created.
  secret:
    # This is the name of the secret the Tailscale operator expects.
    name: operator-oauth
    type: Opaque
    # This section maps the keys from Bao to the keys in the Kubernetes secret.
    data:
      - key: client_id
        name: client_id
      - key: client_secret
        name: client_secret
