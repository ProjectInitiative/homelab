apiVersion: secrets.hashicorp.com/v1beta1
kind: VaultStaticSecret
metadata:
  name: tailscale-operator-oauth
  namespace: tailscale
spec:
  # The mount path of the KV v2 secrets engine in OpenBao.
  mount: k8s

  # The path of the secret within the mount.
  # For a v2 KV store, if your secret is at "k8s/tailscale-operator",
  # the path here is "tailscale-operator".
  path: tailscale-operator
  type: kv-v2
  vaultAuthRef: openbao-secrets-operator/operator-auth

  # This defines the Kubernetes secret that will be created.
  destination:
    name: operator-oauth
    create: true

  # How often the operator should check for changes.
  refreshAfter: 30m

  # This will use the default VaultAuth method configured for the operator.
  # You may need to create a VaultAuth resource if a default is not configured.
  # vaultAuthRef: default